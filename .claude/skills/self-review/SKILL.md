# セルフレビュー

複数の専門家の観点でコードをレビューします。

## 使い方

````bash
/self-review [対象ファイルや変更内容]
```bash

---

## レビュー手順

1. 作業内容に応じて適切な役割を選択すること
2. 各役割の観点でレビューを行うこと
3. 問題があれば修正すること
4. レビュー結果を報告すること

## 注意事項

- すべての役割でレビューする必要はない（作業内容に応じて選択）
- 言語・FW 別、プラットフォーム別は該当するもののみ
- UI/UX は UI 変更がある場合のみ

---

## 共通の観点

### セキュリティ（`security` subagent 使用）

- 認証・認可の漏れがないか
- バリデーション不足がないか
- 機密情報の露出がないか
- OWASP Top 10 に該当する脆弱性がないか
- SQLインジェクション、XSS、CSRF などの対策がされているか
- 依存パッケージに既知の脆弱性がないか

### 品質・設計（`reviewer` subagent 使用）

- エッジケースを考慮しているか
- 命名は適切か
- パフォーマンスに問題がないか
- エラーハンドリングは適切か
- コードの可読性・保守性は十分か
- 適切な抽象化がされているか（過度でも不足でもないか）
- テストカバレッジは十分か

### テスト・品質保証（`qa` subagent 使用）

- テストケースは十分か（正常系・異常系・境界値）
- テストが実際に意図した動作を検証しているか
- リグレッションテストが必要な箇所はカバーされているか
- テストの可読性・保守性は十分か
- モック・スタブの使い方は適切か
- E2E テストが必要な機能か

### UI/UX（`frontend` subagent 使用）

- 既存の意匠との一貫性があるか
- インタラクションは自然か
- アクセシビリティを考慮しているか
- レスポンシブ対応は適切か
- ローディング状態やエラー状態の表示は適切か
- ユーザーにとって分かりやすい UI になっているか

### ミニマリスト

- 余計な変更を含んでいないか
- 不要な抽象化をしていないか
- 依頼された範囲を超えていないか
- YAGNI（You Aren't Gonna Need It）原則に反していないか
- 過度な最適化をしていないか
- シンプルな解決策を選んでいるか

---

## 言語・FW 別の観点

### TypeScript

- 型定義は適切か（any を避けているか）
- 型推論を活用しているか
- ユニオン型・ジェネリクスの使い方は適切か
- null/undefined の扱いは適切か（strict null checks）
- ESLint/Prettier のルールに従っているか
- モジュール構成は適切か
- 非同期処理（async/await, Promise）の扱いは適切か

### Dart/Flutter

- Dart の命名規則に従っているか（lowerCamelCase, UpperCamelCase）
- null safety を適切に活用しているか
- Widget の分割粒度は適切か
- StatelessWidget と StatefulWidget の使い分けは適切か
- 状態管理の方法は適切か
- パフォーマンス（rebuild の最小化）を考慮しているか
- dart analyze でエラー・警告がないか

### Swift/iOS

- Swift API Design Guidelines に従っているか
- Optional の扱いは適切か（強制アンラップを避けているか）
- メモリ管理（ARC, weak/unowned）は適切か
- Protocol 指向の設計になっているか
- iOS Human Interface Guidelines に準拠しているか
- Concurrency（async/await, Actor）の扱いは適切か
- SwiftLint のルールに従っているか

---

## プラットフォーム別の観点

### Web フロントエンド（`frontend` subagent 使用）

- セマンティック HTML を使用しているか
- アクセシビリティ（WCAG）に準拠しているか
- レスポンシブデザインに対応しているか
- パフォーマンス（Core Web Vitals）を考慮しているか
- SEO に配慮しているか（該当する場合）
- ブラウザ互換性を考慮しているか
- CSS の命名規則・設計手法に従っているか

### モバイル（`mobile` subagent 使用）

- オフライン対応を考慮しているか
- バッテリー消費を考慮しているか
- ネットワーク状態の変化に対応しているか
- プッシュ通知の扱いは適切か
- ディープリンクの扱いは適切か
- 各プラットフォームの HIG/Material Design に準拠しているか
- アプリのライフサイクルを考慮しているか
````
