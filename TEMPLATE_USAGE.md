# テンプレートの使い方

このリポジトリは AI 駆動開発のためのテンプレートプロジェクトです。

## はじめに読むドキュメント

テンプレートを使う前に、以下のドキュメントを確認してください。

| ドキュメント                                                         | 内容             |
| -------------------------------------------------------------------- | ---------------- |
| [docs/guides/general/structure.md](docs/guides/general/structure.md) | ディレクトリ構成 |
| [docs/guides/general/setup.md](docs/guides/general/setup.md)         | セットアップ手順 |

## 新しいプロジェクトを始める

```bash
# リポジトリをコピー
cp -r ai-driven-develop-kit your-new-project
cd your-new-project

# Git を初期化
rm -rf .git && git init

# 開発環境をセットアップ
devbox shell
devbox run setup
```

## コピー後の作業

**`/init-project` コマンドを実行してください。** 以下の作業が自動化されます:

1. Git リポジトリの初期化
2. `README.md` をプロジェクトに合わせて編集
3. `CLAUDE.md` をプロジェクトに合わせて編集
4. `TEMPLATE_USAGE.md`（このファイル）を削除
5. `docs/tasks/` 配下の不要なファイルを整理
6. 開発環境の確認
7. 初期コミットの作成

```bash
/init-project プロジェクトの概要（名前、目的、主な機能など）
```

---

## 開発の流れ

このテンプレートでは、**Commands（ワークフロー）** を使って体系的に開発を進めます。

### テンプレート初期化

テンプレートをコピーした直後に実行します。

| Command         | 説明                                         | 成果物                                |
| --------------- | -------------------------------------------- | ------------------------------------- |
| `/init-project` | テンプレートを自分のプロジェクトとして初期化 | 初期化されたリポジトリ + 初期コミット |

### 新規開発（pre-release フェーズ）

`/init-project` 完了後、ゼロからプロジェクトを構築する場合の流れです。

```text
/init-project → /requirements → /design → /setup → /design-doc → /design-impl
      ↓              ↓             ↓          ↓           ↓            ↓
  テンプレ初期化   要件定義     初期設計   環境構築    詳細設計      実装
```

| 順序 | Command         | 説明                                     | 成果物                     |
| ---- | --------------- | ---------------------------------------- | -------------------------- |
| 1    | `/requirements` | 要件定義（ゴール、機能要件、非機能要件） | `docs/specs/` に要件定義書 |
| 2    | `/design`       | 初期設計（技術スタック、アーキテクチャ） | `docs/specs/` に設計書     |
| 3    | `/setup`        | プロジェクト構築（環境、ディレクトリ）   | 動作する開発環境           |
| 4    | `/design-doc`   | 詳細設計書作成（API/DB/画面/クラス設計） | `docs/specs/` に詳細設計書 |
| 5    | `/design-impl`  | 設計書に基づく TDD 実装                  | 実装コード + テスト        |

**ポイント:**

- 各 Command は前の Command の成果物を参照します
- 必要に応じて前のステップに戻って修正できます
- `/design-impl` は繰り返し実行して機能を追加していきます

### 運用（post-release フェーズ）

プロジェクトがリリースされた後の開発フローです。

| Command     | 説明                         | 使いどころ                     |
| ----------- | ---------------------------- | ------------------------------ |
| `/bugfix`   | バグ修正（TDD: Red → Green） | 不具合の報告・発見時           |
| `/feature`  | 機能追加（TDD）              | 新機能のリクエスト時           |
| `/refactor` | リファクタリング             | コード品質改善、技術的負債解消 |

**ポイント:**

- `/bugfix` と `/feature` は TDD で進めます（まずテストを書く）
- `/refactor` はテストが通っている状態で実施します

### 共通

| Command | 説明                                   | 使いどころ                 |
| ------- | -------------------------------------- | -------------------------- |
| `/env`  | 開発環境の整備（依存追加、ツール設定） | 環境の変更・追加が必要な時 |

---

## Skills（知識ベース）

Commands の実行中や通常の開発で、以下の Skills が自動的に参照されます。

| Skill                       | 説明                                 |
| --------------------------- | ------------------------------------ |
| `t-wada-tdd`                | t_wada 式 TDD 実践ガイド             |
| `typescript-best-practices` | TypeScript/JS ベストプラクティス     |
| `hig-design` / `hig-review` | Apple HIG に基づく UI 設計・レビュー |
| `sociomedia-ui-ux`          | Sociomedia 24 原則による UI/UX 設計  |
| `spec-doc`                  | 設計書作成支援                       |

---

## 典型的なユースケース

### ケース 1: 新規 Web アプリを作る

```text
0. /init-project "TaskFlow - チーム向けタスク管理アプリ"
   → テンプレートを初期化、初期コミット作成

1. /requirements "ユーザー管理機能を持つ Web アプリ"
   → 要件定義書を作成

2. /design "React + Node.js で構築"
   → 技術スタック、アーキテクチャを決定

3. /setup "フロントエンド + バックエンドのモノレポ構成"
   → 開発環境を構築

4. /design-doc "ユーザー API の設計"
   → API 設計書を作成

5. /design-impl "ユーザー API を実装"
   → TDD で実装
```

### ケース 2: 既存機能にバグが見つかった

```text
1. /bugfix "ログイン時にエラーが発生する"
   → 再現確認 → テスト作成 → 修正 → 検証
```

### ケース 3: 新機能を追加したい

```text
1. /feature "パスワードリセット機能を追加"
   → インターフェース設計 → テスト作成 → 実装 → 検証
```

---

## 設計方針

### MCP（Model Context Protocol）について

本テンプレートでは **MCP をむやみに使用しない方針** です。

**理由**:

- 環境依存を減らし、シンプルな構成を維持するため
- 標準ツール（git, gh CLI, devbox 等）で十分な機能を提供できるため
- MCP サーバーの設定・管理コストを避けるため

参考用の設定テンプレートは [mcp.json](mcp.json) を参照してください。

### TDD について

本テンプレートでは **t_wada 式 TDD** を推奨しています。

```text
1. テストリストを作成
2. Red: 失敗するテストを書く
3. Green: テストを通す最小限の実装
4. Refactor: 設計を改善
5. 繰り返し
```

詳細は `.claude/skills/t-wada-tdd/SKILL.md` を参照してください。

---

## 詳細

セットアップの詳細は [docs/guides/general/setup.md](docs/guides/general/setup.md) を参照してください。
